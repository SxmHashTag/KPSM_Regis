{% extends 'base.html' %}
{% block title %}{% if person %}Edit Person{% else %}New Person{% endif %} - Diamond Forensics{% endblock %}
{% block content %}
<div class="w-full space-y-6">
    <!-- Breadcrumbs -->
    {% include 'components/breadcrumbs.html' %}
    
    <h2 class="text-3xl font-bold text-foreground">{% if person %}Edit Person{% else %}Add Person{% endif %}</h2>
    <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border-2 border-blue-200 p-6 shadow-md">
        <form method="post" class="space-y-6">
            {% csrf_token %}
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label for="first_name" class="block text-sm font-medium text-foreground mb-2">First Name *</label>
                    <input type="text" id="first_name" name="first_name" required value="{{ person.first_name|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
                <div>
                    <label for="middle_name" class="block text-sm font-medium text-foreground mb-2">Middle Name</label>
                    <input type="text" id="middle_name" name="middle_name" value="{{ person.middle_name|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
                <div>
                    <label for="last_name" class="block text-sm font-medium text-foreground mb-2">Last Name *</label>
                    <input type="text" id="last_name" name="last_name" required value="{{ person.last_name|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label for="date_of_birth" class="block text-sm font-medium text-foreground mb-2">Date of Birth</label>
                    <input type="date" id="date_of_birth" name="date_of_birth" value="{{ person.date_of_birth|date:'Y-m-d'|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
                <div>
                    <label for="ssn" class="block text-sm font-medium text-foreground mb-2">SSN/ID Number</label>
                    <input type="text" id="ssn" name="ssn" value="{{ person.ssn|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
                <div>
                    <label for="person_type" class="block text-sm font-medium text-foreground mb-2">Person Type *</label>
                    <select id="person_type" name="person_type" required
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                        <option value="suspect" {% if person.person_type == 'suspect' %}selected{% endif %}>Suspect</option>
                        <option value="victim" {% if person.person_type == 'victim' %}selected{% endif %}>Victim</option>
                        <option value="witness" {% if person.person_type == 'witness' %}selected{% endif %}>Witness</option>
                        <option value="investigator" {% if person.person_type == 'investigator' %}selected{% endif %}>Investigator</option>
                        <option value="expert" {% if person.person_type == 'expert' %}selected{% endif %}>Expert</option>
                        <option value="other" {% if person.person_type == 'other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label for="email" class="block text-sm font-medium text-foreground mb-2">Email</label>
                    <input type="email" id="email" name="email" value="{{ person.email|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
                <div>
                    <label for="phone" class="block text-sm font-medium text-foreground mb-2">Phone</label>
                    <input type="tel" id="phone" name="phone" value="{{ person.phone|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
                <div>
                    <label for="address" class="block text-sm font-medium text-foreground mb-2">Address</label>
                    <input type="text" id="address" name="address" value="{{ person.address|default:'' }}"
                        class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">
                </div>
            </div>
            <div>
                <label for="notes" class="block text-sm font-medium text-foreground mb-2">Notes</label>
                <textarea id="notes" name="notes" rows="3"
                    class="w-full px-3 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring">{{ person.notes|default:'' }}</textarea>
            </div>
            <div class="flex gap-4 pt-4">
                <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-md">
                    {% if person %}Update Person{% else %}Add Person{% endif %}
                </button>
                <button type="button" onclick="window.history.back();"
                    class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium shadow-md">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
